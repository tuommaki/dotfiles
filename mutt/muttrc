
# Various client settings
set query_command="lbdbq %s"
set copy
set beep_new
set ascii_chars=yes
set reverse_name
set move=no
unset mark_old
set forward_quote
set mime_forward=yes
set mime_forward_rest=yes
set include
set fast_reply=yes
set indent_str="> "
set sig_dashes
set tilde
set rfc2047_parameters


# Cache email headers
set header_cache="~/.muttheaders"

# All the emails mutt should consider as being from me.
alternates (<emailaddress>)

# "ignore all headers by default"
ignore *

# I do want to see these fields, though~
unignore date from subject to cc bcc

# Local settings
source ~/.muttrc.local

# Color settings
source ~/.mutt/colors

# Where to store email aliases for people I email
# Disabled as `abook` is used..
#set alias_file=~/.mutt/aliases
#source ~/.mutt/aliases

# My list of mailboxes
source ~/.mutt/mailboxes

# Me
set realname="Tuomas Makinen"
set from=<emailaddress>
set use_from=yes

# Show the text mime firstly
alternative_order text/plain text/html



# PGP/GPG settings
set pgp_replyencrypt          # encrypt any replies to encrypted messages
set pgp_replysignencrypted    # automatically sign any messages I encrypt
set pgp_show_unusable=no      # don't offer revoked keys in the PGP key selection menu

# Folder hooks and other hook settings
source ~/.mutt/hooks


# Editor
set editor="vim -c 'set nohlsearch noshowmatch modelines=0 tw=75 et noai spell'"

# Show 10 lines of other email from a mailbox when reading a specific email.
# Makes it easier to see where you are in your mailbox when reading a message
set pager_index_lines=10

# Keyboard macros
macro index       h "c?\t"    # show the "folder view" when I hit h

# Highlight links and follow them using w3m when I hit ctrl b
macro pager \cb \
<enter-command>'set pipe_decode'<enter>\
<pipe-entry>'w3m'<enter>\
<enter-command>'unset pipe_decode'<enter> \
'Follow links in w3m'

auto_view text/html

# Printer
set print_command="a2ps -g -Email --encoding=utf-8 -d -1 -M a4 -R"

# abook settings
# abook is a cool command-line address book program that works with mutt
set query_command="abook --mutt-query '%s'"
macro index \ca !abook\n
macro index,pager A "<pipe-message>abook --add-email-quiet<return>" "add the sender address to abook"


macro index <F8> \
          "<enter-command>unset wait_key<enter><shell-escape>/bin/notmuch-mutt -r --prompt search<enter><change-folder-readonly>~/.cache/notmuch/mutt/results<enter>" \
          "search mail (using notmuch)"
macro index <F9> \
          "<enter-command>unset wait_key<enter><pipe-message>/bin/notmuch-mutt thread<enter><change-folder-readonly>~/.cache/notmuch/mutt/results<enter><enter-command>set wait_key<enter>" \
          "search and reconstruct owning thread (using notmuch)"


